html,body{height:100%;margin:0;padding:0;overflow:hidden;width:100%;position:fixed}body{min-height:100vh;max-height:100vh;overflow:hidden;position:relative;width:100%}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}#pano{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;z-index:1;overflow:hidden;margin:0;padding:0;touch-action:none}.header{position:relative;z-index:2;background:#505050cc;color:#fff}footer.footer{position:fixed;bottom:0;left:0;right:0;width:100vw;background-color:transparent;color:#fff;margin:0;padding:14px 0;box-sizing:border-box;display:flex;justify-content:center;align-items:center;pointer-events:auto}#minimap{pointer-events:auto}header{position:fixed;top:0;left:0;right:0;width:100vw;z-index:1000;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:none;padding:12px 24px;transition:transform .3s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transform:translateY(0);will-change:transform;margin:0;box-sizing:border-box}header.header-hidden{transform:translateY(-100%);pointer-events:none}.header-trigger{position:fixed;top:0;left:0;right:0;width:100%;height:60px;z-index:999;pointer-events:auto}header h1#tieude{font-size:28px;margin:0;flex:1;text-align:center}.brand{display:flex;align-items:center;gap:12px;margin:0 auto}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#tenKhuVuc{font-size:20px;font-weight:700;color:#007bff;text-align:center;background-color:#fffc;padding:12px 16px;border-radius:6px;box-shadow:0 2px 4px #0000001a}main{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;overflow:hidden;margin:0;padding:0}#logo{width:240px;height:120px;margin-right:30px}#controls{position:relative;display:flex;gap:12px;margin:0;pointer-events:auto!important;z-index:10001}#controls button{padding:14px 28px;font-size:18px;font-weight:600;cursor:pointer;background-color:#ad171c;color:#fff;border:none;border-radius:8px;transition:all .3s ease;box-shadow:0 2px 8px #0003;pointer-events:auto!important;-webkit-user-select:none;user-select:none;white-space:nowrap;position:relative;z-index:10002;min-height:48px}#controls button:hover{background-color:#931116;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}#controls button:active{transform:translateY(0);box-shadow:0 1px 4px #0003}#hoverPreview{position:absolute;display:none;z-index:1000;pointer-events:none;border:1px solid #ccc;box-shadow:0 4px 8px #0003;background-color:#fff;padding:5px;border-radius:5px}#previewImage{max-width:200px;max-height:150px;display:block}.hs-tip{position:fixed;z-index:9999;max-width:320px;padding:12px 16px;border-radius:10px;background:#141414f0;color:#fff;font-size:15px;line-height:1.5;box-shadow:0 8px 24px #00000040;transform:translate(8px,8px);pointer-events:none;display:none}.hs-tip h4{margin:0 0 8px;font-size:17px;font-weight:600}.hs-tip .sub{opacity:.85;font-size:14px}.hs-tip .row{display:flex;gap:10px;align-items:flex-start}.hs-tip img{width:100px;height:70px;object-fit:cover;border-radius:6px;flex:0 0 auto;background:#333}.hotspot-icon{width:80px;height:60px;object-fit:contain;pointer-events:none;display:block;margin:0;padding:0;position:relative;z-index:2}.hotspot{display:flex;align-items:center;justify-content:center;transform:translate(-50%,-50%);transform-origin:center center;touch-action:none;cursor:pointer;margin:0;padding:0;box-sizing:border-box;line-height:0;position:relative}.hs-label{position:absolute;left:50%;top:0;transform:translate(-50%,-110%);padding:6px 10px;background:#1f3f8a;color:#fff;font-weight:600;font-size:14px;border-radius:4px;box-shadow:0 3px 10px #00000040;white-space:nowrap;pointer-events:none;z-index:3}.hs-arrow{position:absolute;left:50%;top:var(--arrow-gap, 36px);transform:translate(-50%);width:120px;height:60px;opacity:.75;filter:drop-shadow(0 2px 2px rgba(0,0,0,.35));z-index:1;animation:hsArrowPulse 2.4s ease-in-out infinite}@keyframes hsArrowPulse{0%{opacity:.6}50%{opacity:.85;filter:drop-shadow(0 3px 4px rgba(0,0,0,.45))}to{opacity:.6}}.hs-arrow path{transform-box:fill-box;transform-origin:center;animation:hsChevronMove 1.6s ease-in-out infinite}.hs-arrow path:nth-child(2){animation-delay:.8s}@keyframes hsChevronMove{0%{transform:translateY(0);opacity:.65}50%{transform:translateY(-4px);opacity:.98}to{transform:translateY(0);opacity:.65}}.hotspot:hover .hs-label{transform:translate(-50%,-118%) scale(1.02)}.hotspot:hover .hs-arrow{opacity:.9}.road-banner{margin-left:16px;padding:6px 12px;background:#0f2e6d;color:#fff;font-weight:600;font-size:14px;border-radius:6px;display:inline-block;box-shadow:0 4px 16px #00000040;white-space:nowrap}@media (max-width: 767px){.road-banner{position:absolute;left:50%;top:8px;transform:translate(-50%);margin-left:0;z-index:20}}.scene-banner{background:#1f3f8a;color:#fff;font-weight:600;font-size:16px;padding:8px 12px;border-radius:6px;box-shadow:0 6px 18px #00000047;white-space:nowrap;transform:translate(-50%,-120%);pointer-events:none;z-index:10}@media (max-width: 767px){.scene-banner{font-size:14px;padding:6px 10px;transform:translate(-50%,-110%)}}#rotateLeft,#rotateRight{background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}#rotateLeft:hover,#rotateRight:hover{background-color:#0056b3}.lang-switcher{display:flex;gap:6px}.lang-btn{padding:8px 16px;border:1px solid #ccc;background:#fff;cursor:pointer;border-radius:4px;font-size:16px;transition:all .2s;min-height:40px}.lang-btn:hover{background:#f0f0f0}.lang-btn.active{background:#007bff;color:#fff;border-color:#007bff}.minimap{position:fixed;width:520px;height:420px;border:1px solid #ccc;border-radius:8px;background:#fff;overflow:auto;resize:none;box-shadow:0 4px 12px #00000026;z-index:1000;right:15px;bottom:15px;display:flex;flex-direction:column}.minimap .mm-toolbar{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:6px 10px;background:#f1f3f5;border-bottom:1px solid #dee2e6;height:36px;flex-shrink:0;cursor:move;position:relative;z-index:111111}.minimap .mm-route{display:flex;gap:5px;align-items:center;font-size:11px;overflow:hidden}.minimap .mm-route{min-width:0}.minimap .mm-route select{max-width:48%;min-width:110px;padding:5px 8px;font-size:13px;box-sizing:border-box}.minimap .mm-route span{flex:0 0 auto;padding:0 6px}.minimap .mm-route button{flex:0 0 auto}@media (max-width: 900px){.minimap .mm-route select{width:140px;max-width:45%}}.minimap select,.minimap .mm-toolbar button{padding:3px 6px;border:1px solid #ccc;border-radius:3px;background-color:#fff}.minimap .mm-toggle{margin-left:auto;padding:0 8px;line-height:22px}.minimap.minimap--dragging{opacity:.95;cursor:grabbing}.minimap.locked .mm-toolbar{cursor:default}.mm-controls{position:absolute;top:5px;left:5px;z-index:10;display:flex;pointer-events:none;flex-direction:column;gap:4px;background:#ffffffeb;padding:4px;border-radius:4px;box-shadow:0 2px 4px #00000026;border:1px solid rgba(0,0,0,.1);max-width:50px}.floor-selector{display:flex;flex-direction:column;gap:2px;max-height:200px;overflow-y:auto;scrollbar-width:thin}.floor-selector button{padding:2px 4px;border:1px solid #ccc;background-color:#f8f9fa;cursor:pointer;border-radius:2px;font-size:.75em;text-align:center;transition:background-color .2s;min-width:32px;width:100%;pointer-events:auto}.floor-selector button.active{background-color:#007bff;color:#fff;border-color:#0056b3;font-weight:700}.floor-selector button:hover:not(.active){background-color:#e9ecef}.minimap .mm-zoom{display:flex;flex-direction:column;gap:2px;z-index:10}.minimap .mm-zoom button{width:32px;height:24px;font-size:11px;padding:0;line-height:22px;border:1px solid #ccc;border-radius:2px;background-color:#fff;pointer-events:auto}.minimap .mm-btn-lock{margin-top:4px}.mm-btn-lock.active{background:#ffe08a}.mm-viewport{position:relative;overflow:hidden;background-color:#e5e5e5;-webkit-user-select:none;user-select:none;height:100%}.mm-stage{position:absolute;top:0;left:0;transform-origin:0 0;will-change:transform}.mm-dot{position:absolute;width:clamp(16px,calc(32px / var(--mm-scale, 1)),46px);height:clamp(16px,calc(32px / var(--mm-scale, 1)),46px);background-color:#2563eb;border:2px solid #ffffff;border-radius:50%;transform:translate(-50%,-50%);cursor:pointer;z-index:10;box-shadow:0 2px 4px #00000040;transition:transform .1s}.mm-dot.active,.mm-dot.mm-dot--active{background-color:#ef4444;z-index:20;transform:translate(-50%,-50%) scale(1.2);border-color:#fff}.mm-dot.mm-dot--active:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:clamp(28px,calc(56px / var(--mm-scale, 1)),80px);height:clamp(28px,calc(56px / var(--mm-scale, 1)),80px);border-radius:50%;border:2px solid rgba(239,68,68,.8);box-shadow:0 0 10px #ef444466}.mm-label{position:absolute;transform:translate(-50%,-150%);background-color:#fffffff2;padding:4px 10px;border-radius:4px;border:1px solid #94a3b8;font-size:clamp(12px,calc(22px / var(--mm-scale, 1)),36px);font-weight:600;color:#0f172a;white-space:nowrap;pointer-events:none;z-index:15;text-align:center}.mm-edge{position:absolute;height:3px;background-color:#3b82f6a6;transform-origin:0 50%;pointer-events:none;z-index:5}.mm-edge.mm-edge--hl{height:4px;background-color:#dc2626e6;z-index:6}.minimap.minimap--collapsed{height:38px!important;width:50px!important;min-width:50px;resize:none;right:15px;overflow:hidden}.minimap.minimap--collapsed .mm-controls,.minimap.minimap--collapsed .mm-route{display:none}.minimap.minimap--collapsed .mm-toggle{margin-left:0}.mm-dot{transition:opacity .3s ease,transform .3s ease}.mm-stage.has-path .mm-dot:not(.on-path){opacity:.2;transform:translate(-50%,-50%) scale(.8)}.mm-stage.has-path .mm-dot.on-path{opacity:1;transform:translate(-50%,-50%) scale(1.2);z-index:20;background-color:#ef4444;border-color:#fff;box-shadow:0 0 8px #ef444499}.mm-label{transition:opacity .2s ease;opacity:0}.mm-stage.has-path .mm-label:not(.on-path){opacity:.1}.mm-stage.has-path .mm-label.on-path{opacity:1!important;font-weight:700;z-index:21;color:#ef4444}.mm-edge{transition:opacity .3s ease,background-color .2s ease}.mm-stage.has-path .mm-edge:not(.mm-edge--hl){opacity:.1}.mm-edge--hl{background-color:#ef4444;height:3px;z-index:15;box-shadow:0 0 5px #ef444480}.mm-edge:hover{background-color:#3b82f6e6!important;height:4px;z-index:16}.mm-travel-dot{position:absolute;width:clamp(10px,calc(20px / var(--mm-scale, 1)),26px);height:clamp(10px,calc(20px / var(--mm-scale, 1)),26px);background-color:#f59e0b;border:2px solid #ffffff;border-radius:50%;transform:translate(-50%,-50%);z-index:25;box-shadow:0 2px 6px #0000004d;pointer-events:none}@media (max-width: 768px){header,.header,.header-trigger{display:none!important}.mobile-scene-title{position:fixed;top:env(safe-area-inset-top,10px);left:50%;transform:translate(-50%);z-index:1005;background:#005cb8f2;color:#fff;padding:8px 14px;border-radius:16px;font-weight:600;font-size:14px;box-shadow:0 4px 12px #00000040;max-width:80vw;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-fullscreen{position:fixed;left:12px;top:calc(env(safe-area-inset-top,0px) + 12px);width:44px;height:44px;border-radius:10px;background:#fffffff2;color:#0f172a;border:1px solid rgba(0,0,0,.15);box-shadow:0 4px 12px #00000026;z-index:1006;display:inline-flex;align-items:center;justify-content:center;font-size:22px;line-height:1}.btn-minimap{position:fixed;left:12px;top:calc(env(safe-area-inset-top,0px) + 68px);width:44px;height:44px;border-radius:10px;background:#fffffff2;color:#0f172a;border:1px solid rgba(0,0,0,.15);box-shadow:0 4px 12px #00000026;z-index:1006;display:inline-flex;align-items:center;justify-content:center;font-size:20px;line-height:1}.btn-lang{position:fixed;left:12px;top:calc(env(safe-area-inset-top,0px) + 124px);width:44px;height:44px;border-radius:10px;background:#fffffff2;color:#0f172a;border:1px solid rgba(0,0,0,.15);box-shadow:0 4px 12px #00000026;z-index:1006;display:inline-flex;align-items:center;justify-content:center;font-weight:700}.minimap{width:320px;height:240px;left:12px;top:72px;right:auto;bottom:auto;z-index:1000}.minimap .mm-route,.minimap .mm-zoom,.minimap .mm-controls{display:none}.minimap .mm-toggle,.minimap .mm-toolbar .floor-selector--inline,.minimap.minimap--collapsed{display:none!important}#cornerLogo{position:fixed;top:calc(env(safe-area-inset-top,0px) + 10px);right:12px;width:220px;height:auto;z-index:1200;pointer-events:none;filter:drop-shadow(0 2px 6px rgba(0,0,0,.3));display:block}.mm-label{opacity:0}.mm-dot.mm-dot--active+.mm-label{opacity:1!important}footer.footer #controls{display:none!important}}@media (min-width: 768px){#cornerLogo{display:none!important}}#directions{position:fixed;left:16px;bottom:16px;max-width:320px;z-index:1100;background:#fffffff0;border-radius:12px;box-shadow:0 10px 30px #00000040;padding:12px;font-size:14px;color:#111;border:1px solid rgba(0,0,0,.08)}#directions ol{margin:0;padding-left:18px}#directions button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;border-radius:8px;padding:8px 12px;font-size:14px;cursor:pointer;background:#ad171c;color:#fff;transition:transform .06s ease,opacity .2s ease}#directions button:hover{transform:translateY(-1px)}#directions button+button{margin-left:8px}#pano{position:relative;z-index:1}header,#menu,#hoverPreview,#controls,#minimap,#directions{z-index:1000}#menu{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}#menuButton{font-size:24px;padding:14px 18px;width:56px;height:56px;min-width:56px;min-height:56px;border-radius:8px;cursor:pointer;background:#ad171ce6;color:#fff;border:none;transition:all .3s ease;box-shadow:0 2px 8px #0003}#menuButton:hover{background:#931116f2;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}#menuList{z-index:1200;font-size:16px;padding:12px;max-width:400px;max-height:70vh}#menuList li{padding:14px 20px;font-size:16px;line-height:1.6;cursor:pointer;transition:background-color .2s}#menuList li:hover{background-color:#ad171c1a}#directions{font-size:16px;padding:16px;max-width:360px}#directions button{padding:10px 16px;font-size:16px;min-height:42px}#hoverPreview{max-width:240px;padding:8px}#previewImage{max-width:240px;max-height:180px}@media (max-width: 768px){header{padding:10px 14px;flex-wrap:wrap;gap:10px}header h1#tieude{font-size:16px;margin:0;flex:1 1 100%;text-align:center;order:3}#logo{width:80px;height:40px;margin-right:10px}.brand{flex:0 0 auto}#tenKhuVuc{font-size:13px;padding:8px 10px;flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-actions{display:flex;gap:8px;align-items:center}#concurrent-users{display:flex;align-items:center;gap:8px;padding:6px 10px;background:#00000038;color:#fffffff2;border-radius:8px;margin-right:8px;font-size:14px;line-height:1}#concurrent-users span:nth-child(2){font-weight:700;font-size:16px}@media (max-width: 900px){#concurrent-users{font-size:13px;padding:5px 8px}#concurrent-users span:nth-child(2){font-size:14px}}.lang-switcher{gap:4px}.lang-btn{padding:6px 12px;font-size:14px;min-width:44px;min-height:36px}#installButton{font-size:13px;padding:8px 12px;min-height:36px}footer.footer{padding:10px 6px}#controls{gap:8px;flex-wrap:wrap;justify-content:center}#controls button{padding:12px 20px;font-size:15px;font-weight:600;flex:1 1 auto;min-width:90px;min-height:44px}.minimap,.minimap-panel,#minimap{display:block!important}#menuButton{font-size:20px;padding:12px 16px;width:48px;height:48px;min-width:48px;min-height:48px}#menuList{max-width:90vw;max-height:60vh;font-size:15px;padding:12px}#menuList li{padding:12px 16px;font-size:15px}.hs-tip{max-width:280px;font-size:14px;padding:10px 12px}.hs-tip h4{font-size:16px;margin-bottom:8px}.hs-tip img{width:70px;height:50px}#hoverPreview{max-width:180px}#previewImage{max-width:180px;max-height:120px}#directions{left:8px;bottom:8px;max-width:calc(100vw - 16px);font-size:14px;padding:12px}#directions button{padding:10px 16px;font-size:14px;min-height:40px}}@media (max-width: 480px){header{padding:8px 10px}header h1#tieude{font-size:14px;display:block}#logo{width:70px;height:35px;margin-right:8px}#tenKhuVuc{font-size:12px;padding:6px 8px}.lang-btn{padding:6px 10px;font-size:13px;min-width:42px;min-height:34px}#controls{gap:6px;padding:6px}#controls button{padding:10px 16px;font-size:14px;min-width:85px;min-height:42px}#menuButton{font-size:18px;padding:10px 14px;width:46px;height:46px;min-width:46px;min-height:46px}#menuList{font-size:14px;padding:10px}#menuList li{padding:10px 14px;font-size:14px}.hs-tip{max-width:260px;font-size:13px;padding:8px 10px}.hs-tip h4{font-size:15px}.hotspot-icon{width:60px;height:42px}#directions{left:4px;right:4px;bottom:4px;max-width:none;width:calc(100vw - 8px)}}@media (max-height: 500px) and (min-width: 481px){header.header-hidden{transform:translateY(0);pointer-events:auto}footer.footer{padding:6px 0}#controls button{padding:8px 14px;font-size:13px}.minimap,.minimap-panel,#minimap{display:block!important}}.minimap{z-index:20000!important}@media (min-width: 768px){#btnFullscreen,.btn-fullscreen,#btnMinimap,.btn-minimap,#btnLang,.btn-lang,#mobileSceneTitle,.mobile-scene-title{display:none!important}}@media (min-width: 768px){#cornerLogo{position:fixed;top:12px;right:12px;width:240px;height:auto;z-index:1200;pointer-events:none;filter:drop-shadow(0 2px 6px rgba(0,0,0,.3))}}.minimap.minimap--hidden,#minimap.minimap--hidden{display:none!important}#voice-bot-btn,#voice-command-btn,.voice-bot-button{position:fixed;right:20px;bottom:100px;width:70px;height:70px;border-radius:50%;border:none;box-shadow:0 4px 20px #00000040,0 2px 8px #00000026;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:700;font-size:16px;letter-spacing:.5px;z-index:10020!important;cursor:pointer;pointer-events:auto!important;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;isolation:isolate}#voice-bot-btn:hover,#voice-command-btn:hover,.voice-bot-button:hover{transform:scale(1.08) translateY(-2px);box-shadow:0 6px 24px #667eea66,0 4px 12px #0003;background:linear-gradient(135deg,#764ba2,#667eea)}#voice-bot-btn:active,#voice-command-btn:active,.voice-bot-button:active{transform:scale(.95) translateY(0);box-shadow:0 2px 8px #0003}#voice-command-btn img{display:none}#voice-bot-bubble,.voice-bot-bubble{position:fixed;right:18px;bottom:84px;z-index:10001;min-width:220px;max-width:320px;padding:10px;border-radius:8px;background:#fffffff7;box-shadow:0 6px 18px #0000001f;font-size:13px;color:#222;display:none;pointer-events:auto!important}#bot-container{position:fixed;bottom:20px;right:20px;width:320px;height:450px;background:#fff;border-radius:8px;box-shadow:0 5px 15px #0003;display:flex;flex-direction:column;z-index:2000;font-family:Arial,sans-serif;transition:all .3s}#bot-container.hidden{display:none}.bot-header{padding:10px;background:#f1f1f1;border-bottom:1px solid #ddd;border-radius:8px 8px 0 0;font-weight:700;display:flex;justify-content:space-between}#bot-close-btn{background:none;border:none;cursor:pointer;font-weight:700}#bot-messages{flex-grow:1;padding:10px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}.bot-message{padding:8px 12px;border-radius:18px;max-width:80%;word-wrap:break-word}.bot-message.bot{background:#eee;align-self:flex-start;border-top-left-radius:0}.bot-message.user{background:#007bff;color:#fff;align-self:flex-end;border-top-right-radius:0;margin-left:auto}.bot-input-area{display:flex;border-top:1px solid #ddd;padding:10px;gap:5px}#bot-input{flex-grow:1;border:1px solid #ccc;border-radius:15px;padding:0 12px;font-size:14px}#bot-mic-btn,#bot-send-btn{width:35px;height:35px;border-radius:50%;border:none;cursor:pointer;flex-shrink:0;font-size:16px}#bot-mic-btn{background:#f0f0f0}#bot-mic-btn:disabled{background:#ffcdd2}#bot-send-btn{background:#007bff;color:#fff}@media (max-width: 768px){#voice-command-btn,#voice-bot-btn,.voice-bot-button{width:60px;height:60px;bottom:110px;right:15px;font-size:14px;z-index:10020!important}#bot-container{width:calc(100vw - 40px);max-width:400px;height:60vh;max-height:500px;bottom:100px;right:20px;left:auto}.bot-header{padding:8px;font-size:14px}#bot-messages{padding:8px;font-size:13px}.bot-message{padding:6px 10px;font-size:13px}.bot-input-area{padding:8px}#bot-input{font-size:13px;padding:0 10px}#bot-mic-btn,#bot-send-btn{width:32px;height:32px;font-size:14px}}@media (max-width: 480px){#voice-command-btn,#voice-bot-btn,.voice-bot-button{width:64px;height:64px;bottom:110px;right:12px;font-size:15px;z-index:10020!important}#bot-container{width:calc(100vw - 20px);height:55vh;max-height:400px;bottom:90px;right:10px}.bot-header{padding:6px;font-size:13px}#bot-messages{padding:6px;font-size:12px}.bot-message{padding:5px 8px;font-size:12px;max-width:85%}.bot-input-area{padding:6px;gap:4px}#bot-input{font-size:12px;padding:0 8px}#bot-mic-btn,#bot-send-btn{width:30px;height:30px;font-size:13px}}
